---
title: "테라폼(Terraform) 도구 설치"
chapter: false
weight: 15
---

## 테라폼 (Terraform)
테라폼은 하시코프(HashiCorp)에서 만든 인프라스트럭처를 코드로 관리하기 위한 소프트웨어 도구입니다. 테라폼 사용자는 테라폼의 정의형 언어인 하시코프 설정 언어(HashiCorp Configuration Language, HCL)를 사용하여 클라우드 컴퓨팅 환경과 기존 온프레미시스 환경의 인프라스트럭처를 관리할 수 있습니다. 테라폼 사용자는 인프라스트럭처 설정 파일의 버전을 관리하고, 재사용하고, 공유할 수 있습니다. 또한, 다른 프로그래밍 언어처럼 인프라스트럭처의 생애주기에 포함된 모든 작업들을 자동화하고 체계화 할 수 있습니다.

![terraform-iac-concept](/images/terraform/iac-concept.png)

테라폼은 아마존 웹서비스 (Amazon Web Services, AWS), 마이크로소프트 애저 (Microsoft Azure), 아이비엠 클라우드 (IBM Cloud), 서버스페이스 (Serverspace), 구글 클라우드 플랫폼 (Google Cloud Platform, GCP), 디지털오션 (DigitalOcean), 오라클 클라우드 인프라스트럭처 (Oracle Cloud Infrastructure), 브이엠웨어 브이스피어 (VMware vSphere), 그리고 오픈스택 (OpenStack)과 같은 다양한 클라우드 제공자를 지원합니다. '테라폼이란 무엇인가'에 대하여 보다 자세한 정보를 원한다면, 하시코프 [웹사이트](https://www.terraform.io/intro#what-is-terraform)를 방문하시길 바랍니다.

## 테라폼 모듈 (Terraform Module)
테라폼 모듈은 함께 사용할 여러 개의 (클라우드) 자원을 한 곳에 모아둔 것입니다. 모듈을 사용하게 되면 전체 인프라스트럭처를 구성하는 자원을 열거하는 대신, 추상화된 개념의 구성 요소들의 집합 형태로 만들 수 있습니다. 콤포넌트 기반 개발 (Component Based Development)의 장점을 인프라스트럭처 관리영역에 도입할 수 있게 되는 것입니다.

모듈은 로컬 파일시스템부터 불러오는 것에 추가하여, 공용 또는 개인 저장소로부터 가져와서 사용할 수 있습니다. 하시코프는 2017년에 테라폼 모듈 레지스트리 (Terraform Module Registry)를 만들었고, 이 것은 테라폼 모듈을 관리하고 공유하는 것을 쉽게 만들어 주었습니다. 초기에는 테라폼 모듈을 공유하는 기능에서 출발했지만, 나중에서는 범용적인 용도의 저장소로 확대 개편하였습니다. 그래서 이름도 테라폼 모듈 레지스트리에서 테라폼 레지스트리로 변경되었습니다. 테라폼 레지스트리에는 광범위한 종류의 공통 모듈이 공개적으로 등록되어 있습니다. 이 모듈들은 무료로 사용할 수 있으며, 테라폼 설정 파일에서 'module' 블록을 지정하기만 하면 자동으로 가져와서 활용합니다.

테라폼 모듈은 탄탄한 인프라스트럭처를 빠르게 만들 수 있는 강력한 빌딩 블록입니다. 테라폼 사용자는 자신들의 다양한 인프라스트럭처를 테라폼 모듈로 쉽게 만들 수 있습니다. 아래 그림은 인프라스트럭처를 블록 구조로 어떻게 구성하는 지에 대한 개념을 설명한 그림입니다.

![terraform-infra-building-blocks](/images/terraform/infra-building-blocks.png)

## 테라폼 명령줄 도구 (Terraform CLI)
테라폼([terraform](https://learn.hashicorp.com/tutorials/terraform/install-cli))은 클라우드 인프라스트럭처를 관리하기 위한 도구 입니다. 코드를 이용해서 인프라스트럭처를 생성하고 변경하고 삭제합니다. 테라폼 코드로 생성한 클라우드 자원은 상태 정보 파일에 기록됩니다. 테라폼은 다음과 같은 장점이 있습니다.

- 인프라스트럭처를 코드로 관리하게 되므로 일관성을 유지할 수 있습니다.
- 인프라스트럭처 코드를 버전 관리할 수 있습니다.
- 인프라스트럭처 변경 사항을 리뷰 할 수 있습니다. 테라폼 코드 리뷰를 통해 변경사항을 미리 살펴 볼 수도 있고, 이력 추적을 통해 변경된 사항을 감사하할 수도 있습니다.
- 테라폼은 플랜 명령을 통해 실제 인프라스트럭처 반영 전 변경사항을 미리 확인해 볼 수 있습니다. 인프라스트럭처 변경은 많은 영향을 끼치므로 최종 반영 전에 변경사항을 파악할 수 있다는 점은 많은 도움이 됩니다.
- 테라폼은 인프라스트럭처 반영내용을 상태 파일로 저장하고 있습니다. 단순히 AWS CLI(명령줄 인터페이스)를 통해 인프라스트럭처를 생성했다면, 현재 생성되어 있는 자원의 정보를 확인하고 변경된 내용만 적용시키기 어려울 것입니다.
- 테라폼은 코드 이므로 재사용이 가능합니다. 코드 자체를 제사용할 수 있으며, 모듈기능을 통해서 추상화된 객체를 조립하는 구조로 재사용할 수도 있습니다.

터미널에서 다음의 명령을 입력하여 테라폼을 설치할 수 있습니다.
```sh
export TF_VER=1.0.3
curl --silent --location "https://releases.hashicorp.com/terraform/${TF_VER}/terraform_${TF_VER}_linux_amd64.zip" -o /tmp/terraform.zip
```

내려받은 파일을 압축해제 합니다.
```sh
unzip /tmp/terraform.zip -d /tmp
```

모든 사용자가 사용할 수 있도록 다음의 위치로 옮겨서 설치를 마무리 합니다.
```sh
sudo mv -v /tmp/terraform /usr/local/bin/terraform
```

설치 확인을 위해 버전을 출력합니다. 적절한 버전 정보를 확인했다면 제대로 설치한 것입니다.
```sh
terraform version
```
